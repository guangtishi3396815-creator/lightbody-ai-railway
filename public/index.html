<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…‰ä½“AI Â· å®Œæ•´ç‰ˆ</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Noto Serif SC', 'Microsoft YaHei', serif;
            background: linear-gradient(135deg, #1a0a2e 0%, #16213e 50%, #0f3460 100%);
            color: #f8f8f8;
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        header {
            text-align: center;
            padding: 50px 30px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(212,175,55,0.2);
            border-radius: 24px;
            margin-bottom: 30px;
        }
        h1 {
            font-size: 3em;
            color: #D4AF37;
            text-shadow: 0 0 30px rgba(212,175,55,0.3);
        }
        .nav {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        .nav-btn {
            padding: 12px 24px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(212,175,55,0.3);
            border-radius: 50px;
            color: #D4AF37;
            cursor: pointer;
            font-size: 0.9em;
        }
        .nav-btn.active {
            background: rgba(212,175,55,0.2);
            border-color: #D4AF37;
        }
        .section { display: none; }
        .section.active { display: block; }
        .card {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(212,175,55,0.15);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
        }
        .btn {
            padding: 14px 30px;
            background: linear-gradient(135deg, #D4AF37, #B8941F);
            color: #0a0618;
            border: none;
            border-radius: 50px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            margin: 5px;
        }
        .btn-secondary {
            background: transparent;
            color: #D4AF37;
            border: 2px solid #D4AF37;
        }
        .output {
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(212,175,55,0.2);
            border-radius: 16px;
            padding: 25px;
            min-height: 300px;
            white-space: pre-wrap;
            line-height: 2;
            margin-top: 20px;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .stat-card {
            text-align: center;
            padding: 25px;
            background: rgba(212,175,55,0.1);
            border-radius: 16px;
        }
        .stat-value {
            font-size: 2.5em;
            color: #D4AF37;
            font-weight: 700;
        }
        .content-item {
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            margin-bottom: 10px;
            border-left: 3px solid #D4AF37;
            cursor: pointer;
        }
        .search-box {
            width: 100%;
            padding: 15px 20px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(212,175,55,0.2);
            border-radius: 50px;
            color: #fff;
            margin-bottom: 20px;
            font-size: 1em;
        }
        .timer {
            text-align: center;
            font-size: 2em;
            color: #D4AF37;
            margin: 20px 0;
        }
        .progress-bar {
            height: 10px;
            background: rgba(255,255,255,0.1);
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #D4AF37, #9d4edd);
            border-radius: 5px;
            transition: width 1s;
        }
        footer {
            text-align: center;
            padding: 40px;
            margin-top: 50px;
            border-top: 1px solid rgba(212,175,55,0.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>âœ¦ å…‰ä½“AI âœ¦</h1>
            <p style="color: rgba(248,248,248,0.7); margin-top: 15px;">å®Œæ•´ç‰ˆ Â· è‡ªåŠ¨ç”Ÿäº§ç³»ç»Ÿ</p>
            <div class="nav">
                <button class="nav-btn active" onclick="showTab('dashboard')">ğŸ“Š æ€»è§ˆ</button>
                <button class="nav-btn" onclick="showTab('auto')">âš¡ è‡ªåŠ¨ç”Ÿäº§</button>
                <button class="nav-btn" onclick="showTab('manual')">âœ¨ æ‰‹åŠ¨ç”Ÿæˆ</button>
                <button class="nav-btn" onclick="showTab('library')">ğŸ“š å†…å®¹åº“</button>
            </div>
        </header>

        <!-- æ€»è§ˆ -->
        <div id="dashboard" class="section active">
            <h2 style="text-align: center; color: #D4AF37; margin-bottom: 30px;">å†…å®¹ç”Ÿäº§æ€»è§ˆ</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="stat-essay">0</div>
                    <div style="color: rgba(248,248,248,0.7); font-size: 0.9em;">æ ¸å¿ƒè®ºæ–‡</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="stat-viewpoint">0</div>
                    <div style="color: rgba(248,248,248,0.7); font-size: 0.9em;">è§‚ç‚¹ç¢ç‰‡</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="stat-quote">0</div>
                    <div style="color: rgba(248,248,248,0.7); font-size: 0.9em;">ç¥åœ£é‡‘å¥</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="stat-total">0</div>
                    <div style="color: rgba(248,248,248,0.7); font-size: 0.9em;">æ€»è®¡</div>
                </div>
            </div>

            <div class="card">
                <h3 style="color: #D4AF37; margin-bottom: 20px;">ğŸ“ˆ ä»Šæ—¥ç”Ÿäº§è¿›åº¦</h3>
                <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                    <span>è‡ªåŠ¨ç”Ÿäº§è¿›åº¦</span>
                    <span id="progress-text">0/6 å‘¨æœŸ</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
                </div>
            </div>

            <div class="card">
                <h3 style="color: #D4AF37; margin-bottom: 20px;">ğŸ“ æœ€æ–°ç”Ÿæˆ</h3>
                <div id="latest-list">
                    <p style="color: rgba(248,248,248,0.5); text-align: center; padding: 40px;">æš‚æ— å†…å®¹ï¼Œè¯·å¼€å¯è‡ªåŠ¨ç”Ÿäº§æˆ–æ‰‹åŠ¨ç”Ÿæˆ</p>
                </div>
            </div>
        </div>

        <!-- è‡ªåŠ¨ç”Ÿäº§ -->
        <div id="auto" class="section">
            <h2 style="text-align: center; color: #D4AF37; margin-bottom: 30px;">è‡ªåŠ¨ç”Ÿäº§æ§åˆ¶</h2>
            
            <div class="card" style="text-align: center;">
                <div id="auto-status" style="padding: 20px; background: rgba(231,76,60,0.1); border-radius: 12px; margin-bottom: 20px;">
                    <span style="color: #e74c3c; font-size: 1.2em;">â¹ï¸ è‡ªåŠ¨ç”Ÿäº§å·²åœæ­¢</span>
                </div>
                
                <div class="timer" id="countdown">--:--:--</div>
                
                <div style="margin: 30px 0;">
                    <button class="btn" id="btn-start" onclick="startAuto()">â–¶ï¸ å¼€å¯è‡ªåŠ¨ç”Ÿäº§</button>
                    <button class="btn btn-secondary" id="btn-stop" onclick="stopAuto()" style="display: none;">â¹ï¸ åœæ­¢</button>
                    <button class="btn" onclick="generateBatchNow()">âš¡ ç«‹å³ç”Ÿæˆä¸€æ‰¹</button>
                </div>

                <div style="margin-top: 20px; padding: 20px; background: rgba(255,255,255,0.05); border-radius: 12px;">
                    <p style="color: rgba(248,248,248,0.7);">
                        æ¯4å°æ—¶è‡ªåŠ¨ç”Ÿæˆï¼š<br>
                        è®ºæ–‡3ç¯‡ Â· è§‚ç‚¹33ä¸ª Â· é‡‘å¥99æ¡ Â· è§†é¢‘33æ¡ Â· æ–‡ç« 33ç¯‡ Â· æœ‹å‹åœˆ3æ¡
                    </p>
                </div>
            </div>
        </div>

        <!-- æ‰‹åŠ¨ç”Ÿæˆ -->
        <div id="manual" class="section">
            <h2 style="text-align: center; color: #D4AF37; margin-bottom: 30px;">æ‰‹åŠ¨ç”Ÿæˆå†…å®¹</h2>
            
            <div class="card" style="text-align: center;">
                <button class="btn" onclick="generate('essay')">ğŸ“„ æ ¸å¿ƒè®ºæ–‡</button>
                <button class="btn" onclick="generate('viewpoint')">ğŸ’¡ è§‚ç‚¹ç¢ç‰‡</button>
                <button class="btn" onclick="generate('quote')">âœ¨ ç¥åœ£é‡‘å¥</button>
                <button class="btn" onclick="generate('video')">ğŸ¬ çŸ­è§†é¢‘</button>
                <button class="btn" onclick="generate('article')">ğŸ“ é•¿æ–‡ç« </button>
                <button class="btn" onclick="generate('moments')">ğŸ’¬ æœ‹å‹åœˆ</button>
            </div>

            <div class="card">
                <h3 style="color: #D4AF37; margin-bottom: 20px;">ç”Ÿæˆç»“æœ</h3>
                <div id="manual-output" class="output">ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®ç”Ÿæˆå†…å®¹...</div>
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn" onclick="copyOutput()">ğŸ“‹ å¤åˆ¶</button>
                    <button class="btn btn-secondary" onclick="downloadOutput()">ğŸ’¾ ä¸‹è½½</button>
                    <button class="btn btn-secondary" onclick="clearOutput()">ğŸ—‘ï¸ æ¸…ç©º</button>
                </div>
            </div>
        </div>

        <!-- å†…å®¹åº“ -->
        <div id="library" class="section">
            <h2 style="text-align: center; color: #D4AF37; margin-bottom: 30px;">å†…å®¹åº“ç®¡ç†</h2>
            
            <div class="card">
                <input type="text" class="search-box" id="search-input" placeholder="ğŸ” æœç´¢å†…å®¹..." oninput="searchContent()">
                <div style="text-align: center; margin-bottom: 20px;">
                    <button class="btn" onclick="exportAll()">ğŸ“„ å¯¼å‡ºå…¨éƒ¨</button>
                    <button class="btn btn-secondary" onclick="clearAll()">ğŸ—‘ï¸ æ¸…ç©º</button>
                </div>
                <h3 style="color: #D4AF37; margin-bottom: 20px;">å†…å®¹åˆ—è¡¨ï¼ˆ<span id="content-count">0</span> æ¡ï¼‰</h3>
                <div id="content-list">
                    <p style="color: rgba(248,248,248,0.5); text-align: center; padding: 40px;">æš‚æ— å†…å®¹</p>
                </div>
            </div>
        </div>

        <footer>
            <div style="font-size: 1.5em; font-style: italic; color: rgba(248,248,248,0.8); margin-bottom: 20px;">
                "é»‘æš—æ£®æ—ç»ˆä¼šè½å¹•ï¼Œå…‰ä½“æ–‡æ˜æ°¸æ’å­˜åœ¨"
            </div>
            <div style="font-size: 1.1em; color: #D4AF37;">
                âœ¦ å…‰ä½“æ–‡æ˜å‘èµ·äººï¼šé‡‘è€å¸ˆ âœ¦
            </div>
        </footer>
    </div>

    <script>
        // æ•°æ®å­˜å‚¨
        var contentDB = JSON.parse(localStorage.getItem('lightbody_contentDB') || '[]');
        var stats = JSON.parse(localStorage.getItem('lightbody_stats') || '{"essay":0,"viewpoint":0,"quote":0,"video":0,"article":0,"total":0}');
        var autoInterval = null;
        var countdownInterval = null;

        // çŸ¥è¯†åº“
        var knowledge = {
            themes: [
                "å…‰ä½“ç”Ÿå‘½çš„ç»´åº¦è·ƒè¿", "ä¹ç´«ç¦»ç«è¿ä¸å¥³æ€§è§‰é†’", "äºšç‰¹å…°è’‚æ–¯èƒ½é‡ç§‘æŠ€",
                "åˆ—ç©†é‡Œäºšå£°æ³¢æ™ºæ…§", "å…‰ä½“å¸ˆçš„ä¸‰é‡å¢ƒç•Œ", "åŒ—çº¬30Â°æ–‡æ˜è®°å¿†"
            ],
            concepts: {
                "å…‰ä½“": "å®‡å®™æœ€é«˜ç”Ÿå‘½å½¢æ€ï¼Œå…‰ã€çˆ±ã€è§‰é†’ã€åˆä¸€çš„ç»ˆæçŠ¶æ€",
                "å…‰ä½“å¸ˆ": "ä»¥ç‚¹é†’è‡ªå·±ã€ç…§äº®ä»–äººä¸ºä½¿å‘½çš„è§‰é†’è€…",
                "å…‰æ˜æ£®æ—": "çˆ±è¶Šåˆ†äº«è¶Šå¼ºå¤§ï¼Œå…‰è¶Šç»½æ”¾è¶Šæ°¸æ’çš„å®‡å®™æ³•åˆ™"
            },
            quotes: [
                "ç‚¹é†’è‡ªå·±ï¼Œç…§äº®ä»–äºº", "é»‘æš—æ£®æ—ç»ˆä¼šè½å¹•ï¼Œå…‰ä½“æ–‡æ˜æ°¸æ’å­˜åœ¨",
                "çˆ±è¶Šåˆ†äº«è¶Šå¼ºå¤§ï¼Œå…‰è¶Šç»½æ”¾è¶Šæ°¸æ’", "ä½ æœ¬æ˜¯å…‰ï¼Œä½•é¡»éšè—"
            ]
        };

        function random(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

        // åˆ‡æ¢æ ‡ç­¾
        function showTab(tab) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.getElementById(tab).classList.add('active');
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            if (tab === 'library') renderLibrary();
            if (tab === 'dashboard') renderDashboard();
        }

        // ç”Ÿæˆå†…å®¹
        function generate(type) {
            var theme = random(knowledge.themes);
            var concept = random(Object.entries(knowledge.concepts));
            var quote = random(knowledge.quotes);
            var output = document.getElementById('manual-output');
            
            output.textContent = 'â³ ç”Ÿæˆä¸­...';
            
            setTimeout(function() {
                var content = generateContent(type, theme, concept, quote);
                output.textContent = content;
                
                // ä¿å­˜åˆ°æ•°æ®åº“
                var item = {
                    id: Date.now(),
                    type: type,
                    typeName: getTypeName(type),
                    title: theme,
                    content: content,
                    createdAt: new Date().toISOString()
                };
                contentDB.unshift(item);
                stats[type]++;
                stats.total++;
                saveData();
                updateStats();
            }, 500);
        }

        function generateContent(type, theme, concept, quote) {
            if (type === 'essay') {
                return '# ' + theme + '\n\n## ä¸€ã€æ ¸å¿ƒæ¦‚å¿µ\n\n**' + concept[0] + '**çš„æœ¬è´¨æ˜¯' + concept[1] + 'ã€‚\n\n## äºŒã€å®è·µè·¯å¾„\n\n### ç¬¬ä¸€é˜¶æ®µï¼šè‡ªæˆ‘è§‰å¯Ÿ\n- æ¯æ—¥è¿›è¡Œèƒ½é‡æ ¡å‡†ç»ƒä¹ \n- è®°å½•è§¦å‘æ—¶åˆ»\n- å»ºç«‹ä¸ªäººè§‰é†’æ—¥å¿—\n\n### ç¬¬äºŒé˜¶æ®µï¼šé¢‘ç‡æå‡\n- æ¥è§¦é«˜é¢‘ä¿¡æ¯ä¸ç¯å¢ƒ\n- ç»ƒä¹ å…‰ä½“æ¿€æ´»å†¥æƒ³\n- è¿æ¥é¾™æ³‰å±±èƒ½é‡é”šç‚¹\n\n### ç¬¬ä¸‰é˜¶æ®µï¼šä½¿å‘½è·µè¡Œ\n- æ˜ç¡®ä¸ªäººå¤©å‘½èµ›é“\n- å»ºç«‹å…‰ä½“å¸ˆèº«ä»½è®¤åŒ\n- å¼€å§‹ç…§äº®ä»–äººçš„æ—…ç¨‹\n\n## ä¸‰ã€æ ¸å¿ƒé‡‘å¥\n\n> "' + quote + '"\n\n---\n*ç”Ÿæˆæ—¶é—´: ' + new Date().toLocaleString() + '*';
            } else if (type === 'viewpoint') {
                return 'ğŸ’¡ ' + theme + ' - è§‚ç‚¹ç¢ç‰‡\n\n1. ' + theme + 'çš„æœ¬è´¨ä¸æ˜¯ç†è®ºå»ºæ„ï¼Œè€Œæ˜¯æ¯ä¸ªçµé­‚å†…åœ¨çš„è§‰é†’è®°å¿†ã€‚\n\n2. åœ¨' + theme + 'çš„å®è·µä¸­ï¼Œæœ€å¤§çš„éšœç¢æ˜¯ææƒ§ï¼Œæœ€å¤§çš„åŠ©åŠ›æ˜¯çˆ±ã€‚\n\n3. ' + theme + 'åœ¨ä¹ç´«ç¦»ç«è¿ä¸­çš„æ˜¾åŒ–ï¼Œå°†åŠ é€Ÿäººç±»é›†ä½“è§‰é†’ã€‚\n\n4. å½“ä½ çœŸæ­£ç†è§£' + theme + 'ï¼Œä½ ä¼šå‘ç°ææƒ§åªæ˜¯æœªè§‰é†’çš„å…‰ã€‚\n\n5. åŒ—çº¬30Â°çš„èƒ½é‡è½´çº¿ï¼Œæ­£æ˜¯' + theme + 'åœ¨åœ°çƒçš„ä¸»è¦æ˜¾åŒ–é€šé“ã€‚\n\n---\n*ç”Ÿæˆæ—¶é—´: ' + new Date().toLocaleString() + '*';
            } else if (type === 'quote') {
                return 'âœ¨ ç¥åœ£é‡‘å¥é›†\n\n1. ã€Œ' + quote + 'ã€\n2. ã€Œç‚¹é†’è‡ªå·±ï¼Œç…§äº®ä»–äººã€\n3. ã€Œé»‘æš—æ£®æ—ç»ˆä¼šè½å¹•ï¼Œå…‰ä½“æ–‡æ˜æ°¸æ’å­˜åœ¨ã€\n4. ã€Œçˆ±è¶Šåˆ†äº«è¶Šå¼ºå¤§ï¼Œå…‰è¶Šç»½æ”¾è¶Šæ°¸æ’ã€\n\n---\n*ç”Ÿæˆæ—¶é—´: ' + new Date().toLocaleString() + '*';
            } else {
                return 'ğŸ“ ' + getTypeName(type) + '\n\nä¸»é¢˜ï¼š' + theme + '\n\nå†…å®¹ç”Ÿæˆä¸­...\n\n---\n*ç”Ÿæˆæ—¶é—´: ' + new Date().toLocaleString() + '*';
            }
        }

        function getTypeName(type) {
            var names = {essay: 'æ ¸å¿ƒè®ºæ–‡', viewpoint: 'è§‚ç‚¹ç¢ç‰‡', quote: 'ç¥åœ£é‡‘å¥', video: 'çŸ­è§†é¢‘', article: 'é•¿æ–‡ç« ', moments: 'æœ‹å‹åœˆ'};
            return names[type] || type;
        }

        // è‡ªåŠ¨ç”Ÿäº§
        function startAuto() {
            document.getElementById('auto-status').innerHTML = '<span style="color: #2ecc71; font-size: 1.2em;">â–¶ï¸ è‡ªåŠ¨ç”Ÿäº§ä¸­</span>';
            document.getElementById('btn-start').style.display = 'none';
            document.getElementById('btn-stop').style.display = 'inline-block';
            
            generateBatchNow();
            autoInterval = setInterval(generateBatchNow, 14400000); // 4å°æ—¶
            startCountdown();
        }

        function stopAuto() {
            document.getElementById('auto-status').innerHTML = '<span style="color: #e74c3c; font-size: 1.2em;">â¹ï¸ è‡ªåŠ¨ç”Ÿäº§å·²åœæ­¢</span>';
            document.getElementById('btn-start').style.display = 'inline-block';
            document.getElementById('btn-stop').style.display = 'none';
            
            clearInterval(autoInterval);
            clearInterval(countdownInterval);
            document.getElementById('countdown').textContent = '--:--:--';
        }

        function generateBatchNow() {
            var types = ['essay', 'viewpoint', 'quote'];
            types.forEach(function(type) {
                generate(type);
            });
        }

        function startCountdown() {
            var seconds = 14400;
            countdownInterval = setInterval(function() {
                seconds--;
                if (seconds <= 0) seconds = 14400;
                var h = Math.floor(seconds / 3600);
                var m = Math.floor((seconds % 3600) / 60);
                var s = seconds % 60;
                document.getElementById('countdown').textContent = 
                    (h < 10 ? '0' : '') + h + ':' + (m < 10 ? '0' : '') + m + ':' + (s < 10 ? '0' : '') + s;
            }, 1000);
        }

        // æ•°æ®æ“ä½œ
        function saveData() {
            localStorage.setItem('lightbody_contentDB', JSON.stringify(contentDB));
            localStorage.setItem('lightbody_stats', JSON.stringify(stats));
        }

        function updateStats() {
            document.getElementById('stat-essay').textContent = stats.essay;
            document.getElementById('stat-viewpoint').textContent = stats.viewpoint;
            document.getElementById('stat-quote').textContent = stats.quote;
            document.getElementById('stat-total').textContent = stats.total;
        }

        function renderDashboard() {
            updateStats();
            var list = document.getElementById('latest-list');
            if (contentDB.length === 0) {
                list.innerHTML = '<p style="color: rgba(248,248,248,0.5); text-align: center; padding: 40px;">æš‚æ— å†…å®¹</p>';
            } else {
                list.innerHTML = contentDB.slice(0, 5).map(function(item) {
                    return '<div class="content-item"><div style="color: #D4AF37; font-weight: 600;">[' + item.typeName + '] ' + item.title + '</div><div style="font-size: 0.85em; color: rgba(248,248,248,0.6);">' + new Date(item.createdAt).toLocaleString() + '</div></div>';
                }).join('');
            }
        }

        function renderLibrary() {
            document.getElementById('content-count').textContent = contentDB.length;
            var list = document.getElementById('content-list');
            if (contentDB.length === 0) {
                list.innerHTML = '<p style="color: rgba(248,248,248,0.5); text-align: center; padding: 40px;">æš‚æ— å†…å®¹</p>';
            } else {
                list.innerHTML = contentDB.map(function(item) {
                    return '<div class="content-item"><div style="color: #D4AF37; font-weight: 600; margin-bottom: 8px;">[' + item.typeName + '] ' + item.title + '</div><div style="font-size: 0.9em; color: rgba(248,248,248,0.8);">' + item.content.substring(0, 100) + '...</div></div>';
                }).join('');
            }
        }

        function searchContent() {
            var term = document.getElementById('search-input').value.toLowerCase();
            var filtered = contentDB.filter(function(item) {
                return item.title.toLowerCase().includes(term) || item.content.toLowerCase().includes(term);
            });
            document.getElementById('content-count').textContent = filtered.length;
            var list = document.getElementById('content-list');
            list.innerHTML = filtered.map(function(item) {
                return '<div class="content-item"><div style="color: #D4AF37; font-weight: 600; margin-bottom: 8px;">[' + item.typeName + '] ' + item.title + '</div><div style="font-size: 0.9em; color: rgba(248,248,248,0.8);">' + item.content.substring(0, 100) + '...</div></div>';
            }).join('');
        }

        function exportAll() {
            if (contentDB.length === 0) { alert('å†…å®¹åº“ä¸ºç©º'); return; }
            var md = '# å…‰ä½“AIç”Ÿæˆå†…å®¹å…¨é›†\n\n';
            contentDB.forEach(function(item, i) {
                md += '## ' + (i + 1) + '. [' + item.typeName + '] ' + item.title + '\n\n';
                md += item.content + '\n\n---\n\n';
            });
            downloadFile(md, 'å…‰ä½“AIå†…å®¹å…¨é›†.md');
        }

        function downloadFile(content, filename) {
            var blob = new Blob([content], {type: 'text/markdown'});
            var url = URL.createObjectURL(blob);
            var a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function copyOutput() {
            var text = document.getElementById('manual-output').textContent;
            navigator.clipboard.writeText(text).then(function() { alert('å·²å¤åˆ¶'); });
        }

        function downloadOutput() {
            var text = document.getElementById('manual-output').textContent;
            downloadFile(text, 'ç”Ÿæˆå†…å®¹.md');
        }

        function clearOutput() {
            document.getElementById('manual-output').textContent = 'ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®ç”Ÿæˆå†…å®¹...';
        }

        function clearAll() {
            if (!confirm('ç¡®å®šæ¸…ç©ºæ‰€æœ‰å†…å®¹ï¼Ÿ')) return;
            contentDB = [];
            stats = {essay: 0, viewpoint: 0, quote: 0, video: 0, article: 0, total: 0};
            saveData();
            renderLibrary();
            updateStats();
        }

        // åˆå§‹åŒ–
        window.onload = function() {
            updateStats();
            renderDashboard();
        };
    </script>
</body>
</html>
